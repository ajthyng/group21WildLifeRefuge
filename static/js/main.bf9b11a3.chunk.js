(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,n){},146:function(e,t,n){e.exports=n(290)},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},16:function(e,t){e.exports={random:function(e,t){return Math.random()*(t-e)+e},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===t)throw new Error("Cannot access ".concat(e," on null initial value"));if(null===e)throw new Error("Cannot access null property of an object");return e.split(".").reduce(function(e,t,n,a){var o=e[t];return a.length-1===n?o:o||{}},t)}}},275:function(e){e.exports={toggleContext:!0,studentMode:!0,authorMode:!1,reviewMode:!1,redtailHawkCount:0,redtailHawkSelected:0,snowshoeHareCount:0,showshoeHareSelected:0,sageBushCount:0,sageBushSelected:0,westernCedarCount:0,westernCedarSelected:0,inputTable:[]}},290:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(26),i=n.n(r),c=(n(151),n(4)),s=n(5),l=n(9),u=n(7),h=n(8),d=n(11),m=(n(152),n(153),n(12));function p(){var e=Object(d.a)(["\n  color: #FFFFFF;\n  font-size: 32px;\n"]);return p=function(){return e},e}function f(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return f=function(){return e},e}var b=m.a.div(f()),v=m.a.span(p()),g=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.name;return o.a.createElement(b,null,o.a.createElement(v,null,e))}}]),t}(a.Component);function y(){var e=Object(d.a)(["\n  color: #ffffff;\n  font-size: 14px;\n"]);return y=function(){return e},e}function w(){var e=Object(d.a)(["\n  position: absolute;\n  left: 15%;\n  top: 40%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n"]);return w=function(){return e},e}var j=m.a.div(w()),k=m.a.span(y()),O=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.steps;return o.a.createElement(j,null,e.map(function(e,t){return o.a.createElement(k,{key:"".concat(t)},"".concat(t+1,".) ").concat(e))}))}}]),t}(a.Component);O.defaultProps={steps:[]};var E=O;function C(){var e=Object(d.a)(["\n  position: absolute;\n  right: 0%;\n  top: 0%;\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n"]);return C=function(){return e},e}var S=m.a.div(C()),M=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.name;return o.a.createElement(S,null,o.a.createElement("header",null,"Welcome ".concat(e)))}}]),t}(a.Component);function x(){var e=Object(d.a)(["\n  color: #FFFFFF;\n  font-size: 36px;\n"]);return x=function(){return e},e}function D(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return D=function(){return e},e}var L=m.a.div(D()),T=m.a.h1(x()),V=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.title;return o.a.createElement(L,null,o.a.createElement(T,null,e))}}]),t}(a.Component);function F(){var e=Object(d.a)(["\n    color = #FFFFFF;\n    font-size: 14px;\n"]);return F=function(){return e},e}function z(){var e=Object(d.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    "]);return z=function(){return e},e}var P=m.a.div(z()),R=m.a.p(F()),A=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.summary;return o.a.createElement(P,null,o.a.createElement(R,null,e))}}]),t}(a.Component);function H(){var e=Object(d.a)(["\n  width: 1px;\n  height: ",";\n  background-color: ",";\n"]);return H=function(){return e},e}var B=m.a.div(H(),function(e){return"".concat(e.height,"px")},function(e){return e.color}),N=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.height,n=void 0===t?50:t,a=e.color,r=void 0===a?"white":a;return o.a.createElement(B,{height:n,color:r})}}]),t}(a.Component);function I(){var e=Object(d.a)(["\n  color: ",";\n  transition: color 0.5s;\n  font-size: 19px;\n\n  ",":hover & {\n    color: ",";\n  }\n"]);return I=function(){return e},e}function U(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 12px 24px 14px 24px;\n  border-radius: 0.25em;\n  cursor: pointer;\n  user-select: none;\n\n  background-color: ",";\n  transition: background-color 0.5s;\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return U=function(){return e},e}var _=m.a.div(U(),function(e){return e.color},function(e){return e.hoverColor}),G=m.a.span(I(),function(e){return e.labelColor},_,function(e){return e.labelHoverColor}),W=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onClick=function(){var e=n.props.onClick;e&&e()},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.color,a=e.hoverColor,r=e.labelColor,i=e.labelHoverColor;return o.a.createElement(_,{color:n,hoverColor:a,onClick:this.onClick},o.a.createElement(G,{labelColor:r,labelHoverColor:i},t))}}]),t}(a.Component);W.defaultProps={color:"black",labelColor:"white",hoverColor:"white",labelHoverColor:"black"};var Y=W;function Z(){var e=Object(d.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url('assets/willapa-wildlife-refuge-hiking.jpg');\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n"]);return Z=function(){return e},e}function X(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  flex-direction: column;\n  background-color: #000000aa;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]);return X=function(){return e},e}var K=m.a.div(X()),q=m.a.div(Z()),Q=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).goToSim=function(){var e=n.props.history;e&&e.push("/sim")},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.handleLogin,e.name);return o.a.createElement(o.a.Fragment,null,o.a.createElement(q,null),o.a.createElement(K,null,o.a.createElement(M,{name:t}),o.a.createElement(V,{title:"Welcome to Willapa Wildlife Refuge"}),o.a.createElement(N,{height:80,color:"white"}),o.a.createElement(g,{name:"What do animals do in their free time?"}),o.a.createElement(N,{height:360,color:"white"}),o.a.createElement(E,{steps:["Add animals","Observe their interactions","Watch as hawks dominate the ecosystem","More steps to come"]}),o.a.createElement(Y,{label:"Start Lesson",onClick:this.goToSim,color:"#4CAF50",hoverColor:"#FFFFFF",labelColor:"#FFFFFF",labelHoverColor:"#4CAF50"}),o.a.createElement(A,{summary:"This is the summary paragraph from ReactJS"})))}}]),t}(o.a.Component),J=n(10),$=n(61),ee=n(133),te=n.n(ee),ne=n(134),ae=n.n(ne),oe=n(136),re=n.n(oe),ie=n(84),ce=n.n(ie),se=n(135),le=n.n(se),ue=n(60),he=n.n(ue),de=n(34),me=n.n(de),pe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onClick=function(){var e=n.props,t=e.onClick,a=e.onClose;t&&t(),a&&a()},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.label;return o.a.createElement(me.a,{onClick:this.onClick},e)}}]),t}(a.Component),fe=n(132),be=n(59),ve=n.n(be),ge=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.open,a=e.onClose,r=e.children;return o.a.createElement(ve.a,{id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:n,onClose:a},o.a.Children.map(r,function(e){return o.a.cloneElement(e,Object(fe.a)({},e.props,{onClose:a}))}))}}]),t}(a.Component),ye={},we={subscribe:function(){var e=Array.prototype.slice.call(arguments),t=e[0],n=e[1];ye[t]||(ye[t]=[]),ye[t].push(n)},unsubscribe:function(){var e=Array.prototype.slice.call(arguments),t=e[0],n=e[1];ye[t]&&(ye[t]=ye[t].filter(function(e){return e!==n}))},next:function(){var e=Array.prototype.slice.call(arguments),t=e[0],n=e[1];ye[t]&&ye[t].forEach(function(e){"function"===typeof e&&e(n)})}};Object.freeze(we);var je,ke=we,Oe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={floraAnchor:null,faunaAnchor:null},n.handleMenu=function(e){return function(t){t.currentTarget!==n.state[e]&&n.setState(Object(J.a)({},e,t.currentTarget))}},n.handleClose=function(e){return function(){n.state[e]&&n.setState(Object(J.a)({},e,null))}},n.toggleDrawer=function(e){return function(){ke.next("toggle ".concat(e))}},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.floraAnchor,a=t.faunaAnchor,r=Boolean(n),i=Boolean(a);return o.a.createElement("div",{className:e.root},o.a.createElement(te.a,{position:"static"},o.a.createElement(ae.a,null,o.a.createElement(he.a,{className:e.menuButton,onClick:this.toggleDrawer("left"),color:"inherit","aria-label":"Menu"},o.a.createElement(le.a,null)),o.a.createElement(re.a,{variant:"h6",color:"inherit",className:e.grow},"Willapa Refuge")," ",o.a.createElement(ce.a,{onClick:this.handleMenu("floraAnchor"),color:"inherit"},"Flora"),o.a.createElement(ce.a,{onClick:this.handleMenu("faunaAnchor"),color:"inherit"},"Fauna"),o.a.createElement(ge,{id:"menu-fauna",anchor:a,open:i,onClose:this.handleClose("faunaAnchor")},o.a.createElement(pe,{label:"Redtail Hawk"}),o.a.createElement(pe,{label:"Snowshoe Hare"})),o.a.createElement(ge,{id:"menu-flora",anchor:n,open:r,onClose:this.handleClose("floraAnchor")},o.a.createElement(pe,{label:"Big Sagebush"}),o.a.createElement(pe,{label:"Western Cedar"})))))}}]),t}(a.Component),Ee=Object($.withStyles)({root:{zIndex:10},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(Oe),Ce=(n(120),n(49)),Se=n(144),Me=n(28),xe=n.n(Me),De=n(33),Le=n(6);((je=function(e,t){this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new Le.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:Le.MOUSE.LEFT,MIDDLE:Le.MOUSE.MIDDLE,RIGHT:Le.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(a),n.update(),c=i.NONE},this.update=function(){var t=new Le.Vector3,o=(new Le.Quaternion).setFromUnitVectors(e.up,new Le.Vector3(0,1,0)),r=o.clone().inverse(),p=new Le.Vector3,f=new Le.Quaternion;return function(){var e=n.object.position;return t.copy(e).sub(n.target),t.applyQuaternion(o),l.setFromVector3(t),n.autoRotate&&c===i.NONE&&E(2*Math.PI/60/60*n.autoRotateSpeed),l.theta+=u.theta,l.phi+=u.phi,l.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=h,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),n.target.add(d),t.setFromSpherical(l),t.applyQuaternion(r),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(u.theta*=1-n.dampingFactor,u.phi*=1-n.dampingFactor,d.multiplyScalar(1-n.dampingFactor)):(u.set(0,0,0),d.set(0,0,0)),h=1,!!(m||p.distanceToSquared(n.object.position)>s||8*(1-f.dot(n.object.quaternion))>s)&&(n.dispatchEvent(a),p.copy(n.object.position),f.copy(n.object.quaternion),m=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",N,!1),n.domElement.removeEventListener("mousedown",V,!1),n.domElement.removeEventListener("wheel",P,!1),n.domElement.removeEventListener("touchstart",A,!1),n.domElement.removeEventListener("touchend",B,!1),n.domElement.removeEventListener("touchmove",H,!1),document.removeEventListener("mousemove",F,!1),document.removeEventListener("mouseup",z,!1),window.removeEventListener("keydown",R,!1)};var n=this,a={type:"change"},o={type:"start"},r={type:"end"},i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},c=i.NONE,s=1e-6,l=new Le.Spherical,u=new Le.Spherical,h=1,d=new Le.Vector3,m=!1,p=new Le.Vector2,f=new Le.Vector2,b=new Le.Vector2,v=new Le.Vector2,g=new Le.Vector2,y=new Le.Vector2,w=new Le.Vector2,j=new Le.Vector2,k=new Le.Vector2;function O(){return Math.pow(.95,n.zoomSpeed)}function E(e){u.theta-=e}function C(e){u.phi-=e}var S=function(){var e=new Le.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}}(),M=function(){var e=new Le.Vector3;return function(t,a){!0===n.screenSpacePanning?e.setFromMatrixColumn(a,1):(e.setFromMatrixColumn(a,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),x=function(){var e=new Le.Vector3;return function(t,a){var o=n.domElement===document?n.domElement.body:n.domElement;if(n.object.isPerspectiveCamera){var r=n.object.position;e.copy(r).sub(n.target);var i=e.length();i*=Math.tan(n.object.fov/2*Math.PI/180),S(2*t*i/o.clientHeight,n.object.matrix),M(2*a*i/o.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(S(t*(n.object.right-n.object.left)/n.object.zoom/o.clientWidth,n.object.matrix),M(a*(n.object.top-n.object.bottom)/n.object.zoom/o.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function D(e){n.object.isPerspectiveCamera?h/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function L(e){n.object.isPerspectiveCamera?h*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function T(e){v.set(e.clientX,e.clientY)}function V(e){if(!1!==n.enabled){switch(e.preventDefault(),e.button){case n.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey){if(!1===n.enablePan)return;T(e),c=i.PAN}else{if(!1===n.enableRotate)return;!function(e){p.set(e.clientX,e.clientY)}(e),c=i.ROTATE}break;case n.mouseButtons.MIDDLE:if(!1===n.enableZoom)return;!function(e){w.set(e.clientX,e.clientY)}(e),c=i.DOLLY;break;case n.mouseButtons.RIGHT:if(!1===n.enablePan)return;T(e),c=i.PAN}c!==i.NONE&&(document.addEventListener("mousemove",F,!1),document.addEventListener("mouseup",z,!1),n.dispatchEvent(o))}}function F(e){if(!1!==n.enabled)switch(e.preventDefault(),c){case i.ROTATE:if(!1===n.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),b.subVectors(f,p).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;E(2*Math.PI*b.x/t.clientHeight),C(2*Math.PI*b.y/t.clientHeight),p.copy(f),n.update()}(e);break;case i.DOLLY:if(!1===n.enableZoom)return;!function(e){j.set(e.clientX,e.clientY),k.subVectors(j,w),k.y>0?D(O()):k.y<0&&L(O()),w.copy(j),n.update()}(e);break;case i.PAN:if(!1===n.enablePan)return;!function(e){g.set(e.clientX,e.clientY),y.subVectors(g,v).multiplyScalar(n.panSpeed),x(y.x,y.y),v.copy(g),n.update()}(e)}}function z(e){!1!==n.enabled&&(document.removeEventListener("mousemove",F,!1),document.removeEventListener("mouseup",z,!1),n.dispatchEvent(r),c=i.NONE)}function P(e){!1===n.enabled||!1===n.enableZoom||c!==i.NONE&&c!==i.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(o),function(e){e.deltaY<0?L(O()):e.deltaY>0&&D(O()),n.update()}(e),n.dispatchEvent(r))}function R(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){switch(e.keyCode){case n.keys.UP:x(0,n.keyPanSpeed),n.update();break;case n.keys.BOTTOM:x(0,-n.keyPanSpeed),n.update();break;case n.keys.LEFT:x(n.keyPanSpeed,0),n.update();break;case n.keys.RIGHT:x(-n.keyPanSpeed,0),n.update()}}(e)}function A(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===n.enableRotate)return;!function(e){p.set(e.touches[0].pageX,e.touches[0].pageY)}(e),c=i.TOUCH_ROTATE;break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+a*a);w.set(0,o)}if(n.enablePan){var r=.5*(e.touches[0].pageX+e.touches[1].pageX),i=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(r,i)}}(e),c=i.TOUCH_DOLLY_PAN;break;default:c=i.NONE}c!==i.NONE&&n.dispatchEvent(o)}}function H(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===n.enableRotate)return;if(c!==i.TOUCH_ROTATE)return;!function(e){f.set(e.touches[0].pageX,e.touches[0].pageY),b.subVectors(f,p).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;E(2*Math.PI*b.x/t.clientHeight),C(2*Math.PI*b.y/t.clientHeight),p.copy(f),n.update()}(e);break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;if(c!==i.TOUCH_DOLLY_PAN)return;!function(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+a*a);j.set(0,o),k.set(0,Math.pow(j.y/w.y,n.zoomSpeed)),D(k.y),w.copy(j)}if(n.enablePan){var r=.5*(e.touches[0].pageX+e.touches[1].pageX),i=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(r,i),y.subVectors(g,v).multiplyScalar(n.panSpeed),x(y.x,y.y),v.copy(g)}n.update()}(e);break;default:c=i.NONE}}function B(e){!1!==n.enabled&&(n.dispatchEvent(r),c=i.NONE)}function N(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",N,!1),n.domElement.addEventListener("mousedown",V,!1),n.domElement.addEventListener("wheel",P,!1),n.domElement.addEventListener("touchstart",A,!1),n.domElement.addEventListener("touchend",B,!1),n.domElement.addEventListener("touchmove",H,!1),window.addEventListener("keydown",R,!1),this.update()}).prototype=Object.create(Le.EventDispatcher.prototype)).constructor=je,Object.defineProperties(je.prototype,{center:{get:function(){return console.warn("__OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("__OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("__OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("__OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("__OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("__OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("__OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("__OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("__OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("__OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("__OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("__OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("__OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});var Te=n(6),Ve="Ground";var Fe=function(e){var t=e.size,n=void 0===t?{x:100,y:100}:t,a=e.color,o=void 0===a?"#996600":a,r=new Te.BoxBufferGeometry(n.x,15,n.y),i=new Te.MeshLambertMaterial({color:o});r.computeFaceNormals(),r.normalsNeedUpdate=!0;var c=new Te.Mesh(r,i);return c.position.set(0,-7.5,0),c.receiveShadow=!0,c.castShadow=!0,c.type=Ve,{update:function(e){},model:c,created:new Date}},ze=n(16),Pe=window.THREE=n(6);n(121);var Re="Grass";function Ae(){return(Ae=Object(De.a)(xe.a.mark(function e(t){var n,a,o,r,i,c,s,l,u,h,d,m,p,f,b;return xe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b=function(){},(n=new Pe.LoadingManager).onLoad=t.onLoad||function(){return null},a=new Pe.GLTFLoader(n),o=t.count,r=void 0===o?500:o,i=new Pe.Object3D,e.next=8,new Promise(function(e,t){a.load("models/grass.gltf",function(t){return e(t.scene||null)},void 0,t)});case 8:for(c=e.sent,(s=Nt().groundSize).x*=.95,s.y*=.95,l=0;l<r;l++)(u=c.clone()).children[0].children[0].userData={selectable:!0,color:{highlight:"#FFF",original:"#3baa5d",selected:"#FF00FF"}},h=Object(ze.random)(1,2),d=Object(ze.random)(-s.x/2,s.x/2),m=Object(ze.random)(-s.y/2,s.y/2),p=Object(ze.random)(-Math.PI/2,Math.PI/2),u.scale.set(h,h,h),u.position.set(d,0,m),u.rotation.y=p,(f=u.children[0].children[0].material).color.set(u.children[0].children[0].userData.color.original),u.children[0].children[0].material=f.clone(),i.add(u);return i.type=Re,e.abrupt("return",{update:b,model:i,created:new Date});case 15:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var He=function(e){return Ae.apply(this,arguments)},Be=n(6);var Ne=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=new Be.AmbientLight(8421504);return e.castShadow=!0,{update:function(){},light:e}},Ie=n(6);var Ue=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=new Ie.DirectionalLight(16777215,.5);return e.position.set(1,1,1),{update:function(){},light:e}},_e=new(function(){function e(){Object(c.a)(this,e),this.observers=[]}return Object(s.a)(e,[{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"unsubscribe",value:function(e){this.observers=this.observers.filter(function(t){return t!==e})}},{key:"broadcast",value:function(e){this.observers.forEach(function(t){return t(e)})}}]),e}()),Ge=function(){return _e},We=n(6),Ye="tree";var Ze=function(){var e=new We.ConeGeometry(10,10,8,6),t=new We.MeshStandardMaterial({color:3407667,flatShading:!0}),n=new We.Mesh(e,t);n.castShadow=!0,n.receiveShadow=!1,n.position.y=50,n.rotation.y=Math.random()*Math.PI;var a=new We.Mesh(e,t);a.castShadow=!0,a.receiveShadow=!1,a.position.y=45,a.rotation.y=Math.random()*Math.PI;var o=new We.CylinderGeometry(.1,2,100),r=new We.MeshStandardMaterial({color:8939059,flatShading:!0}),i=new We.Mesh(o,r);i.position.y=.25;var c=new We.Object3D;c.castShadow=!0,c.add(i),c.add(n),c.add(a);var s=Nt(),l=.95*s.groundSize.x/2,u=.95*s.groundSize.y/2,h={x:Object(ze.random)(-l,l),y:1.5,z:Object(ze.random)(-u,u)};return c.position.set(h.x,h.y,h.z),c.userData={selectable:!0,color:{highlight:"#f7ff6d",selected:"#808080"},name:Ye},c.name=Ye,c.type="Tree",{model:c,created:new Date}},Xe=n(6),Ke="hare",qe="Hare";var Qe=function(){var e=new Xe.SphereGeometry(6,30,30),t=new Xe.MeshPhongMaterial({color:"#db7093"}),n=new Xe.Mesh(e,t);n.name="hare";var a=Nt(),o=.95*a.groundSize.x/2,r=.95*a.groundSize.y/2,i={x:Object(ze.random)(-o,o),y:2,z:Object(ze.random)(-r,r)};return n.position.set(i.x,i.y,i.z),n.castShadow=!0,n.userData={selectable:!0,color:{original:"#db7093",highlight:"#f7ff6d",selected:"#808080"},name:Ke},Ge().subscribe(function(e){}),n.type=qe,{update:function(){},model:n,created:new Date}},Je=n(6),$e="bush",et="Bush";var tt=function(){var e=new Je.CubeGeometry(15,5,5),t=new Je.MeshBasicMaterial({color:"#2cdb26"}),n=new Je.Mesh(e,t),a=Nt(),o=.95*a.groundSize.x/2,r=.95*a.groundSize.y/2,i={x:Object(ze.random)(-o,o),y:1.5,z:Object(ze.random)(-r,r)};return n.position.set(i.x,i.y,i.z),n.userData={selectable:!0,color:{original:"#2cdb26",highlight:"#f7ff6d",selected:"#808080"},name:$e},n.type=et,n.name=$e,{update:function(){},model:n,created:new Date}},nt=n(6),at="grass",ot="Grass";function rt(){return(rt=Object(De.a)(xe.a.mark(function e(t){var n,a,o,r,i,c,s,l,u,h;return xe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(){},n=t.color,a=void 0===n?"#0080FF":n,o=t.size,r=void 0===o?3:o,i=t.position,c=void 0===i?{x:0,y:0,z:0}:i,s=new nt.CubeGeometry(r,3*r,r),l=new nt.MeshBasicMaterial({color:a}),(u=new nt.Mesh(s,l)).position.set(c.x,c.y,c.z),u.userData={selectable:!0,color:{original:a,highlight:"#f7ff6d",selected:"#000"},name:at},u.name=at,u.type=ot,e.abrupt("return",{update:h,model:u,created:new Date});case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var it=function(e){return rt.apply(this,arguments)},ct=n(6);var st=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=new ct.SpotLight(16777215);return e.position.set(500,150,500),e.shadow.camera.near=20,e.shadow.camera.far=50,e.castShadow=!0,{update:function(){},light:e}},lt={Hawk:{type:"hawk",model:function(){var e=bt();return{model:e.model,created:e.created,update:e.update}}},Hare:{type:"hare",model:function(){var e=Qe();return{model:e.model,created:e.created,update:e.update}}},Bush:{type:"bush",model:function(){var e=tt();return{model:e.model,created:e.created,update:e.update}}},Tree:{type:"tree",model:function(){var e=Ze();return{update:function(){},model:e.model,created:e.created}}},Cube:{type:"cube",model:function(e){var t=it(e);return{model:t.model,created:t.created,update:t.update}}},Ground:{type:"ground",model:function(e){var t=Fe(e);return{model:t.model,created:t.created,update:t.update}}},Grass:{type:"grassField",model:function(){var e=Object(De.a)(xe.a.mark(function e(t){var n,a,o,r;return xe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(t);case 2:return n=e.sent,a=n.model,o=n.created,r=n.update,e.abrupt("return",{model:a,created:o,update:r});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},Ambient:{type:"ambientLight",model:function(){var e=Ne(),t=e.light,n=(e.created,e.update);return{model:t,created:new Date,update:n}}},Directional:{type:"directionalLight",model:function(){var e=Ue(),t=e.light,n=(e.created,e.update);return{model:t,created:new Date,update:n}}},Spot:{type:"spotLight",model:function(){var e=st(),t=e.light,n=(e.created,e.update);return{model:t,created:new Date,update:n}}}},ut=new(function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,[{key:"makeSceneObject",value:function(e){var t=e.type,n=e.config;switch(t){case lt.Hawk.type:return lt.Hawk.model();case lt.Hare.type:return lt.Hare.model();case lt.Bush.type:return lt.Bush.model();case lt.Tree.type:return lt.Tree.model();case lt.Grass.type:return lt.Grass.model(n);case lt.Ground.type:return lt.Ground.model(n);case lt.Ambient.type:return lt.Ambient.model();case lt.Spot.type:return lt.Spot.model();case lt.Directional.type:return lt.Directional.model();default:return lt.Cube.model(n)}}}]),e}());var ht=function(e){var t=Nt();switch(String(e)){case"tree":return void t.addObject(ut.makeSceneObject({type:"tree"}));case"hawk":return void t.addObject(ut.makeSceneObject({type:"hawk"}));case"bush":return void t.addObject(ut.makeSceneObject({type:"bush"}));case"hare":return void t.addObject(ut.makeSceneObject({type:"hare"}))}return{update:function(){}}},dt=n(6),mt="redtailHawk",pt="Hawk",ft=n(274);var bt=function(){var e=new dt.CubeGeometry(3,15,3),t=new dt.MeshBasicMaterial({color:"#db7093"}),n=new dt.Mesh(e,t),a=new dt.SphereGeometry(6,30,30),o=new dt.MeshPhongMaterial({color:"#db7093"}),r=new dt.Mesh(a,o);r.name="hare";var i=Nt(),c=.95*i.groundSize.x/2,s=.95*i.groundSize.y/2,l={x:Object(ze.random)(-c,c),y:100,z:Object(ze.random)(-s,s)},u=new dt.Object3D;u.position.set(l.x,l.y,l.z),r.position.y=u.position.y-4,n.position.y=u.position.y,u.add(n),u.add(r),u.userData={selectable:!0,color:{original:"#db7093",highlight:"#f7ff6d",selected:"#808080"},name:mt},u.name=mt,u.type=pt;var h=new ft.Tween(u.position).to({x:500,y:150,z:-100},1e4/3),d=new ft.Tween(u.position).to({x:-500,y:100,z:100},1e4/3).start(),m={};return Ge().subscribe(function(e){}),h.chain(d),d.chain(h),{update:function(){!function(){for(var e=4;e<Nt().subjects.length;e++)Nt().subjects.length>4&&"hare"==Nt().subjects[e].model.name&&(m=new ft.Tween(u.position).to({x:Nt().subjects[e].model.position.x,y:Nt().subjects[e].model.position.y,z:Nt().subjects[e].model.position.z},2500),d.chain(m),m.chain(h),console.log("Colliding "+r.position.y),r.position.y=u.position.y-4,n.position.y=u.position.y)}(),Ge().broadcast(n.position),ft.update()},model:u,created:new Date}},vt=function(e){var t=e.key,n=e.action;e.capiModel.on("change:".concat(t),n)},gt=Object(ze.getValue)("simcapi.Transporter",window),yt=function(e){return function(t){var n=t.key,a=t.to;e.set(n,a)}},wt=function(e){return function(){switch(console.log(gt),gt&&e.set("simContext",gt.getConfig().context),console.log("Toggle Context"),e.get("simContext")){case"VIEWER":yt(e)({to:!0,key:"studentMode"}),yt(e)({to:!1,key:"authorMode"}),yt(e)({to:!1,key:"reviewMode"});break;case"AUTHOR":yt(e)({to:!0,key:"authorMode"}),yt(e)({to:!1,key:"studentMode"}),yt(e)({to:!1,key:"reviewMode"});break;default:console.log("Unsupported context received")}}},jt=Object(ze.getValue)("simcapi.CapiAdapter",window),kt=jt&&jt.CapiModel,Ot=Object(ze.getValue)("simcapi.Transporter",window),Et=function e(){var t=this;Object(c.a)(this,e),this.exposeKeys=function(e){e.forEach(function(e){"simObjects"!==e&&jt.expose(e,t.capiModel)})},this.getTransporter=function(){return Ot},this.getCapiAdapter=function(){return jt},this.getCapiModel=function(){return t.capiModel},this.getValue=function(e){var n=e.key;return t.capiModel.get(n)},this.setValue=function(e){var n=e.key,a=e.value;return t.capiModel.set(n,a)},this.getValues=function(e){return e.keys.reduce(function(e,n){return e.push(t.capiModel.get(n)),e},[])},this.addListenerFor=function(e){var n=e.key,a=e.callback;vt({key:n,action:a,capiModel:t.capiModel})};var a,o=n(275);this.capiModel=new kt(o),this.exposeKeys(Object.keys(o)),a=this.capiModel,vt({key:"toggleContext",action:wt(a),capiModel:a})};Et.instance=null;var Ct,St=function(){return Et.instance||(Et.instance=new Et),Et.instance};Ct=function(e,t){function n(e,t){return function(){t.apply(e,arguments)}}this.object=e,this.domElement=void 0!==t?t:document,t&&this.domElement.setAttribute("tabindex",-1),this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1,this.tmpQuaternion=new Le.Quaternion,this.mouseStatus=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new Le.Vector3(0,0,0),this.rotationVector=new Le.Vector3(0,0,0),this.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)},this.keydown=function(e){if(!e.altKey){switch(e.keyCode){case 16:this.movementSpeedMultiplier=.1;break;case 87:this.moveState.forward=1;break;case 83:this.moveState.back=1;break;case 65:this.moveState.left=1;break;case 68:this.moveState.right=1;break;case 82:this.moveState.up=1;break;case 70:this.moveState.down=1;break;case 38:this.moveState.pitchUp=1;break;case 40:this.moveState.pitchDown=1;break;case 37:this.moveState.yawLeft=1;break;case 39:this.moveState.yawRight=1;break;case 81:this.moveState.rollLeft=1;break;case 69:this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(e){switch(e.keyCode){case 16:this.movementSpeedMultiplier=1;break;case 87:this.moveState.forward=0;break;case 83:this.moveState.back=0;break;case 65:this.moveState.left=0;break;case 68:this.moveState.right=0;break;case 82:this.moveState.up=0;break;case 70:this.moveState.down=0;break;case 38:this.moveState.pitchUp=0;break;case 40:this.moveState.pitchDown=0;break;case 37:this.moveState.yawLeft=0;break;case 39:this.moveState.yawRight=0;break;case 81:this.moveState.rollLeft=0;break;case 69:this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()},this.mousedown=function(e){if(this.domElement!==document&&this.domElement.focus(),e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},this.mousemove=function(e){if(!this.dragToLook||this.mouseStatus>0){var t=this.getContainerDimensions(),n=t.size[0]/2,a=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,this.moveState.pitchDown=(e.pageY-t.offset[1]-a)/a,this.updateRotationVector()}},this.mouseup=function(e){if(e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()},this.update=function(e){var t=e*this.movementSpeed,n=e*this.rollSpeed;this.object.translateX(this.moveVector.x*t),this.object.translateY(this.moveVector.y*t),this.object.translateZ(this.moveVector.z*t),this.tmpQuaternion.set(this.rotationVector.x*n,this.rotationVector.y*n,this.rotationVector.z*n,1).normalize(),this.object.quaternion.multiply(this.tmpQuaternion),this.object.rotation.setFromQuaternion(this.object.quaternion,this.object.rotation.order)},this.updateMovementVector=function(){var e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.domElement.addEventListener("contextmenu",function(e){e.preventDefault()},!1),this.domElement.addEventListener("mousemove",n(this,this.mousemove),!1),this.domElement.addEventListener("mousedown",n(this,this.mousedown),!1),this.domElement.addEventListener("mouseup",n(this,this.mouseup),!1),this.domElement.addEventListener("keydown",n(this,this.keydown),!1),this.domElement.addEventListener("keyup",n(this,this.keyup),!1),this.updateMovementVector(),this.updateRotationVector()};var Mt,xt=function(e){for(var t=e.hawks,n=e.hares,a=e.cedars,o=e.bushes,r=Nt(),i=0;i<a;i++)r.addObject(ut.makeSceneObject({type:"tree"}));for(var c=0;c<o;c++)r.addObject(ut.makeSceneObject({type:"bush"}));for(var s=0;s<t;s++)r.addObject(ut.makeSceneObject({type:"hawk"}));for(var l=0;l<n;l++)r.addObject(ut.makeSceneObject({type:"hare"}));return{update:function(){}}},Dt=n(81),Lt=n.n(Dt),Tt=o.a.createElement("div",null,o.a.createElement("strong",null,"Snowshoe hare:")," ",o.a.createElement("br",null),o.a.createElement("strong",null,"Description: "),"Unlike most snowshoe hares, the fur of those that inhabit the coast of Washington",o.a.createElement("br",null),"and Oregon do not change white in the winter. Snowshoe hares can be identified by their ",o.a.createElement("br",null),"large hind feet and the black ear tips."),Vt=o.a.createElement("div",null,o.a.createElement("strong",null,"Western Red Cedar:")," ",o.a.createElement("br",null),o.a.createElement("strong",null,"Description: "),"The Western Red Cedar is very commonly found in the wild in the northwestern United States and Canada."),Ft=o.a.createElement("div",null,o.a.createElement("strong",null,"Red tailed hawk:")," ",o.a.createElement("br",null),o.a.createElement("strong",null,"Description: "),"Red-tailed Hawks are large, sharp-taloned birds ",o.a.createElement("br",null),"that can be aggressive when defending nests or territories.",o.a.createElement("br",null),"They frequently chase off other hawks, eagles, and Great Horned Owls."),zt=o.a.createElement("div",null,o.a.createElement("strong",null,"Big SageBrush:")," ",o.a.createElement("br",null),o.a.createElement("strong",null,"Description: "),"Big sagebrush and its subspecies, are tall, rounded, U.S. native shrubs",o.a.createElement("br",null),"with short branched, woody trunks. The height is normally about 4 feet, but varies from 2 feet ",o.a.createElement("br",null),"in arid conditions to as high as 15 feet on favorable sites."),Pt=o.a.createElement("div",null,o.a.createElement("strong",null,"Bluebunch Wheatgrass:")," ",o.a.createElement("br",null),o.a.createElement("strong",null,"Description: "),"Bluebunch Wheatgrass is a perennial bunchgrass common to the northern Great Plains",o.a.createElement("br",null)," and the Intermountain regions of the western United States."),Rt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={anchorEl:null,displayInfo:"default"},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"popUpInfo",value:function(e,t){"hare"==e?this.setState({info:Tt,anchorEl:t.currentTarget}):"redtailHawk"==e?this.setState({info:Ft,anchorEl:t.currentTarget}):"bush"==e?this.setState({info:zt,anchorEl:t.currentTarget}):"grass"==e||"LowPolyGrass"==e?this.setState({info:Pt,anchorEl:t.currentTarget}):"tree"==e&&this.setState({info:Vt,anchorEl:t.currentTarget})}},{key:"render",value:function(){this.props.classes;var e=this.state.anchorEl,t=this.state.info,n=Boolean(e);return o.a.createElement("div",null,o.a.createElement(Lt.a,{id:"simple-popper",open:n,onClose:this.handleClose,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},t))}}]),t}(o.a.Component),At=function(){return Rt.instance||null},Ht=function(e){return Rt.instance||(Rt.instance=new Rt(e)),Rt.instance},Bt=(Mt={},Object(J.a)(Mt,pt,bt),Object(J.a)(Mt,qe,Qe),Object(J.a)(Mt,et,tt),Object(J.a)(Mt,"Tree",Ze),function(){function e(t){var n=this;Object(c.a)(this,e),this.groundSize={x:1e3,y:1e3},this.camera=null,this.scene=null,this.renderer=null,this.cameraControls=null,this.loaded=!1,this.raycaster=new Le.Raycaster,this.mouse=new Le.Vector2,this.clock=new Le.Clock,this.screenDimensions={},this.subjects=[],this.selected=[],this.intersected=null,this.defaultCameraPosition=[0,40,400],this.loadingScreen=null,this.onLoad=function(){n.loaded=!0},this.checkIntersects=function(){var e=n.raycaster.intersectObjects(n.scene.children,!0)||[];if(e.length>0){if(n.intersected!==e[0].object&&(n.resetIntersectedColor(n.intersected),n.intersected=Object(ze.getValue)("object",e[0]),Object(ze.getValue)("userData.selectable",n.intersected))){var t=Object(ze.getValue)("userData.color.highlight",n.intersected),a=Object(ze.getValue)("material.color",n.intersected);a.set&&a.set(t)}}else n.resetIntersectedColor(n.intersected),n.intersected=null},this.handleModelCountChange=function(e){var t=e.type,a=e.key;return function(e){n.removeAllModelsByType({type:t});var o=e.get(a);n.addObjects({type:t,count:o})}},this.handleClick=function(e){var t=n.convertClickToVector(e);n.raycaster.set(n.camera.position,t);var a=n.raycaster.intersectObjects(n.scene.children,!0)||[],o=a[0]||{},r=!!Object(ze.getValue)("object.userData.selectable",o);(a.length>1&&"LowPolyGrass"!==o.object.name&&At().popUpInfo("tree",e),r)&&(n.toggleSelected(o.object),At().popUpInfo(o.object.name,e))},this.convertClickToVector=function(e){var t=new Le.Vector3,a=n.canvas.getBoundingClientRect().top;return t.x=e.clientX/n.canvas.width*2-1,t.y=-(e.clientY-a)/n.canvas.height*2+1,t.unproject(n.camera),t.sub(n.camera.position),t.normalize(),t},this.onDocumentMouseClick=function(e){n.handleClick(e)},this.onDocumentMouseMove=function(e){var t=n.convertClickToVector(e);n.raycaster.set(n.camera.position,t)},this.setCanvas(t),this.initializeLoadingScreen(),this.initializeScene(),this.initializeRenderer(),this.initializeCamera(),this.createSceneSubjects()}return Object(s.a)(e,[{key:"initializeLoadingScreen",value:function(){var e=this.screenDimensions,t=e.width/e.height;this.loadingScreen={scene:new Le.Scene,camera:new Le.PerspectiveCamera(75,t,.1,1e3),indicator:new Le.Mesh(new Le.CircleGeometry(1,32),new Le.MeshBasicMaterial({color:"#3f51b5",side:Le.DoubleSide}))},this.loadingScreen.scene.background=new Le.Color("#FFFFFF"),this.loadingScreen.indicator.position.set(0,0,5),this.loadingScreen.camera.lookAt(this.loadingScreen.indicator.position),this.loadingScreen.scene.add(this.loadingScreen.indicator)}},{key:"setCanvas",value:function(e){var t=e.width,n=e.height;this.canvas=e,this.screenDimensions={width:t,height:n}}},{key:"resetCamera",value:function(){this.cameraControls.reset()}},{key:"toggleSelected",value:function(e){var t=this.selected.findIndex(function(t){return e===t});if(t>=0){var n=this.selected[t],a=Object(ze.getValue)("userData.color.original",n),o=Object(ze.getValue)("material.color",n);if(o.set&&o.set(a),Object(ze.getValue)("userData.name")===mt){var r=St(),i=r.getValue({key:"redtailHawkSelected"});r.setValue({key:"redtailHawkSelected",value:i-1})}this.selected.splice(t,1)}else{var c=Object(ze.getValue)("material.color",e),s=Object(ze.getValue)("userData.color.selected",e),l=Object(ze.getValue)("userData.name",e);if(c.set&&c.set(s),l===mt){var u=St(),h=u.getValue({key:"redtailHawkSelected"});u.setValue({key:"redtailHawkSelected",value:h+1})}this.selected.push(e)}}},{key:"update",value:function(){for(var e=this.clock.getDelta(),t=this.clock.getElapsedTime(),n=0;n<this.subjects.length;n++)this.subjects[n].update&&this.subjects[n].update(t);this.cameraControls.update(e),this.loaded?(this.renderer.render(this.scene,this.camera),this.checkIntersects()):this.renderer.render(this.loadingScreen.scene,this.loadingScreen.camera)}},{key:"resetIntersectedColor",value:function(e){if(e&&Object(ze.getValue)("userData.selectable",e)){var t=Object(ze.getValue)("material.color",e),n=this.selected.findIndex(function(t){return t===e})>=0;if(t.set){var a="userData.color.".concat(n?"selected":"original");t.set(Object(ze.getValue)(a,e))}}}},{key:"createSceneSubjects",value:function(){var e=Object(De.a)(xe.a.mark(function e(){var t,n=this;return xe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.makeSceneObject({type:"grassField",config:{onLoad:this.onLoad}});case 2:t=e.sent,this.subjects=[ut.makeSceneObject({type:"ambientLight"}),ut.makeSceneObject({type:"directionalLight"}),ut.makeSceneObject({type:"spotLight"}),ut.makeSceneObject({type:"ground",config:{size:this.groundSize,color:"#996600"}}),t],this.subjects.forEach(function(e){n.scene.add(e.model)});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addObject",value:function(e){this.subjects.push(e),this.scene.add(e.model)}},{key:"removeObject",value:function(e,t){this.subjects.splice(e,1),this.scene.remove(t)}},{key:"removeMostRecentModelByType",value:function(e){var t=e.type,n=this.subjects.filter(function(e){return!!e.model&&e.model.type===t}).map(function(e){return e.created}).reduce(function(e,t){return Math.max(e,t)}).valueOf(),a=this.subjects.find(function(e){return!!e.created&&e.created.valueOf()===n});this.scene.remove(a)}},{key:"removeAllModelsByType",value:function(e){var t=this,n=this.subjects.filter(function(t){return!!t.model&&t.model.type===e}).map(function(e){return e.model});this.subjects=this.subjects.filter(function(t){return!t.model||t.model.type!==e}),n.forEach(function(e){return t.scene.remove(e)})}},{key:"onTransporterReady",value:function(){var e=St();console.log("test");var t=e.getValues({keys:["redtailHawkCount","snowshoeHareCount","westernCedarCount","sageBushCount"]}),n=Object(Se.a)(t,4),a=n[0],o=n[1],r=n[2],i=n[3];e.addListenerFor({key:"redtailHawkCount",callback:this.handleModelCountChange({type:"Hawk",key:"redtailHawkCount"})}),e.addListenerFor({key:"snowshoeHareCount",callback:this.handleModelCountChange({type:"Hare",key:"snowshoeHareCount"})}),e.addListenerFor({key:"westernCedarCount",callback:this.handleModelCountChange({type:"Tree",key:"westernCedarCount"})}),e.addListenerFor({key:"sageBushCount",callback:this.handleModelCountChange({type:"Bush",key:"sageBushCount"})}),new xt({hawks:a,hares:o,cedars:r,bushes:i})}},{key:"addObjects",value:function(e){for(var t=e.type,n=e.count,a=0;a<n;a++){var o=ut.makeSceneObject({type:t});this.addObject(o)}}},{key:"onWindowResize",value:function(){var e=this.canvas,t=e.width,n=e.height;this.screenDimensions.width=t,this.screenDimensions.height=n,this.renderer.setSize(t,n),this.camera.aspect=t/n,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,n)}},{key:"initializeCamera",value:function(){var e,t=this.screenDimensions,n=t.width/t.height;this.camera=new Le.PerspectiveCamera(60,n,1,4e3),(e=this.camera.position).set.apply(e,Object(Ce.a)(this.defaultCameraPosition)),this.cameraControls=new je(this.camera)}},{key:"setFlyControlCamera",value:function(){this.camera.position.x=100,this.camera.position.y=100,this.camera.position.z=300,this.camera.lookAt(new Le.Vector3(0,0,0)),this.cameraControls=new Ct(this.camera),this.cameraControls.movementSpeed=25,this.cameraControls.domElement=document.querySelector("#root"),this.cameraControls.maxPolarAngle=.5*Math.PI,this.cameraControls.rollSpeed=Math.PI/24,this.cameraControls.autoForward=!0,this.cameraControls.dragToLook=!0}},{key:"setCameraPosition",value:function(e,t,n){this.cameraControls=new je(this.camera),this.camera.position.x=e,this.camera.position.y=t,this.camera.position.z=n}},{key:"setDefaultCamera",value:function(){var e;(e=this.camera.position).set.apply(e,Object(Ce.a)(this.defaultCameraPosition))}},{key:"initializeScene",value:function(){this.scene=new Le.Scene,this.scene.background=new Le.Color("#ffffff")}},{key:"initializeRenderer",value:function(){var e=this.screenDimensions,t=e.width,n=e.height;this.renderer=new Le.WebGLRenderer({canvas:this.canvas,antialias:!0}),this.renderer.setPixelRatio(1),this.renderer.setSize(t,n)}}]),e}()),Nt=function(){return Bt.instance||null};var It=function e(t){var n=this;Object(c.a)(this,e),this.bindEventListeners=function(){window.onresize=n.resizeCanvas,document.addEventListener("mousemove",n.sceneManager.onDocumentMouseMove,!0),document.addEventListener("click",n.sceneManager.onDocumentMouseClick,!1),n.resizeCanvas()},this.resizeCanvas=function(){n.canvas.style.width="100%",n.canvas.style.height="100%",n.canvas.width=n.canvas.offsetWidth,n.canvas.height=n.canvas.offsetHeight,n.sceneManager.onWindowResize()},this.render=function(){requestAnimationFrame(n.render),n.sceneManager.update()},this.canvas=function(e,t){var n=e.createElement("canvas");return t.prepend(n),n}(document,t),this.sceneManager=function(e){return Bt.instance||(Bt.instance=new Bt(e)),Bt.instance}(this.canvas),this.bindEventListeners(),this.render()},Ut=n(85),_t=n.n(Ut),Gt=n(137),Wt=n.n(Gt),Yt=n(138),Zt=n.n(Yt),Xt=n(86);var Kt=function(e){this.state={model1:e};for(var t=Nt(),n=this.state.model1,a=t.subjects.length-1;a>=0;a--)switch(String(n).trim()){case"tree":t.removeAllModelsByType("Tree");break;case"hawk":t.removeAllModelsByType("Hawk");break;case"bush":t.removeAllModelsByType("Bush");break;case"hare":t.removeAllModelsByType("Hare");break;case"grass":t.removeAllModelsByType("Grass")}return{update:function(){}}};function qt(){var e=Object(d.a)(["\n  margin: 5px;\n"]);return qt=function(){return e},e}function Qt(){var e=Object(d.a)(["\n  position: absolute;\n  left: 45%;\n  top: 90%;\n  display: flex;\n  grid-template-columns: auto, auto, auto;\n  justify-content: center;\n"]);return Qt=function(){return e},e}var Jt=m.a.div(Qt()),$t=m.a.div(qt()),en=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={anchorEl:null,doingRemove:!1},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget}),n.setState({doingRemove:!1})},n.handleClickRemove=function(e){n.setState({anchorEl:e.currentTarget}),n.setState({doingRemove:!0})},n.handleClose=function(e){return function(t){n.state.doingRemove?new Kt(e):new ht(e),n.setState({anchorEl:null})}},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.anchorEl;return o.a.createElement("div",null,o.a.createElement(Jt,null,o.a.createElement($t,null,o.a.createElement(_t.a,{"aria-owns":e?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick,color:"primary","aria-label":"Add",className:Xt.a.fab},o.a.createElement(Wt.a,null))),o.a.createElement($t,null,o.a.createElement(_t.a,{"aria-owns":e?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClickRemove,color:"secondary","aria-label":"Delete",className:Xt.a.fab},o.a.createElement(Zt.a,null)))),o.a.createElement(ve.a,{id:"simple-menu",anchorEl:e,open:Boolean(e),onClose:this.handleClose},o.a.createElement(me.a,{onClick:this.handleClose("tree")},"tree"),o.a.createElement(me.a,{onClick:this.handleClose("hawk")},"hawk"),o.a.createElement(me.a,{onClick:this.handleClose("hare")},"hare"),o.a.createElement(me.a,{onClick:this.handleClose("grass")},"grass"),o.a.createElement(me.a,{onClick:this.handleClose("bush")},"bush")))}}]),t}(o.a.Component);function tn(){var e=Object(d.a)(["\n  flex: 1;\n  overflow: hidden;\n"]);return tn=function(){return e},e}var nn=m.a.div(tn()),an=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).canvasContainer=o.a.createRef(),n.onClick=function(){n.sceneManager.resetCamera()},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.sceneManager=new It(this.canvasContainer.current).sceneManager;var e=St().getTransporter();e.addInitialSetupCompleteListener(function(){Nt().onTransporterReady()}),e.notifyOnReady()}},{key:"render",value:function(){return o.a.createElement(nn,{ref:this.canvasContainer},o.a.createElement(en,null))}}]),t}(a.Component),on=Object($.withStyles)(function(e){return{fab:{margin:e.spacing.unit}}})(an);function rn(){var e=Object(d.a)(["\n  display: flex;\n  flex: 1;\n"]);return rn=function(){return e},e}var cn=m.a.div(rn()),sn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(cn,null,o.a.createElement(on,null))}}]),t}(a.Component),ln=(a.Component,n(139)),un=n.n(ln),hn=n(140),dn=n.n(hn);function mn(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justify-content: flex-start;\n  padding: 64px 12px 0 12px;\n  width: 400px;\n  height: 100%;\n"]);return mn=function(){return e},e}var pn=m.a.div(mn()),fn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1},n.setDrawer=function(e){var t=e.to;n.state.open!==Boolean(t)&&n.setState({open:t})},n.toggleDrawer=function(){var e=n.state.open;n.setDrawer({to:!e})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.state.open;ke.subscribe("toggle left",this.toggleDrawer)}},{key:"componentWillUnmount",value:function(){ke.unsubscribe("toggle left",this.toggleDrawer)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.Content,a=this.state.open;return o.a.createElement(un.a,{open:a,onClose:this.toggleDrawer,onOpen:this.toggleDrawer},o.a.createElement(pn,null,o.a.createElement(he.a,{className:t.menuButton,onClick:this.toggleDrawer,color:"inherit","aria-label":"Menu"},o.a.createElement(dn.a,null)),o.a.createElement(n,null)))}}]),t}(a.Component),bn=Object($.withStyles)({menuButton:{position:"absolute",top:0,right:0}})(fn),vn=n(296),gn=n(297),yn=(n(123),n(37)),wn=n.n(yn),jn=n(141),kn=n.n(jn);function On(){var e=Object(d.a)([""]);return On=function(){return e},e}m.a.div(On());var En=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onChange=function(e){var t=n.props.onChange;t&&t(e.target.value)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.id,a=e.options,r=e.value,i=e.placeholder;return o.a.createElement(kn.a,{style:{alignSelf:"stretch",margin:"10px 0"},value:r,onChange:this.onChange,inputProps:{name:t,id:n},placeholder:i},a.map(function(e,t){return o.a.createElement(me.a,{key:"".concat(t),value:e},e)}))}}]),t}(a.Component);function Cn(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n  padding: 6px;\n"]);return Cn=function(){return e},e}var Sn=Object(m.a)(wn.a)(Cn()),Mn=["None","Snowshoe Hare","Big Sage Brush","Bluebunch Wheat Grass","Red Tail Hawk","Western Red Cedar Tree"],xn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e)))._onSelect=function(e){n.setState({selected:e});var t="string"===typeof n.state.selected?n.state.selected:n.state.selected.label;n.simModel.setValue({key:"answer",value:t})},n.simModel=St(),n.state={selected:Mn[0]},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.selected,t=this.state.selected;return this.simModel.setValue({key:"answer",value:t}),o.a.createElement(Sn,null,o.a.createElement("h3",null,"What would you do? "),"If there are too many snowshoe hares in wildlife refuge, what kind of population would you add to balance current ecosystem?",o.a.createElement(En,{options:Mn,onChange:this._onSelect,value:e,placeholder:"Select an option"}),o.a.createElement("div",{className:"result"},"You selected",o.a.createElement("strong",null," ",t," ")))}}]),t}(a.Component);function Dn(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 12px 0;\n  padding: 6px;\n"]);return Dn=function(){return e},e}var Ln=Object(m.a)(wn.a)(Dn()),Tn=["Default","Top","Bottom View","Fly Control View","First Person View"],Vn=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e)))._onSelect=function(e){var t=Nt(),a=e;switch(n.setState({selected:a}),a){case"Top":t.setCameraPosition(0,500,0);break;case"Bottom View":t.setCameraPosition(0,10,100);break;case"Fly Control View":t.setFlyControlCamera();break;case"First Person View":break;default:t.setDefaultCamera()}},n.state={selected:Tn[0]},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.selected;return o.a.createElement(Ln,null,o.a.createElement("h3",null,"Select Views "),o.a.createElement(En,{options:Tn,onChange:this._onSelect,value:e,placeholder:"Select an option"}),o.a.createElement("div",{className:"result"},"You selected ",o.a.createElement("strong",null,e)))}}]),t}(a.Component),Fn=n(142),zn=n.n(Fn);function Pn(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: 20px;\n  bottom: 0;\n  right: 0;\n  \n"]);return Pn=function(){return e},e}var Rn=window.THREE=n(6);n(121);var An=m.a.div(Pn());a.Component;function Hn(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]);return Hn=function(){return e},e}var Bn=m.a.div(Hn()),Nn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={loggedIn:!1},n.handleLogin=function(){n.state.loggedIn||n.setState({loggedIn:!0})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(vn.a,null,o.a.createElement(Bn,{className:"appRoot"},o.a.createElement(gn.a,{exact:!0,path:"/",component:Q}),o.a.createElement(gn.a,{path:"/sim",component:function(){return o.a.createElement(a.Fragment,null,o.a.createElement(Ee,null),o.a.createElement(sn,null),o.a.createElement(Ht,null),o.a.createElement(bn,{Content:function(){return o.a.createElement(a.Fragment,null,o.a.createElement(gn.a,{component:xn}),o.a.createElement(gn.a,{component:Vn}))}}))}})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(Nn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[146,1,2]]]);
//# sourceMappingURL=main.bf9b11a3.chunk.js.map